{"ast":null,"code":"var _jsxFileName = \"D:\\\\github\\\\MapboxData\\\\final-project\\\\src\\\\components\\\\Map.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useEffect, useState } from 'react';\nimport mapboxgl from '!mapbox-gl'; // eslint-disable-line import/no-webpack-loader-syntax\n\nimport Key from \"../img/key.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nmapboxgl.accessToken = 'pk.eyJ1IjoiaXNhYWt0cmVhdHkiLCJhIjoiY2t1Mzhta2xnMW00MzJvczhmNzAxYmFmMyJ9.H05SHwWlCus6O_MBcXFnUQ';\nexport default function Map() {\n  _s();\n\n  const mapContainer = useRef(null);\n  const map = useRef(null);\n  const [lng, setLng] = useState(-99.0000);\n  const [lat, setLat] = useState(38.0000);\n  const [zoom, setZoom] = useState(4.00); // Initializes Map\n\n  useEffect(() => {\n    if (map.current) return; // initialize map only once\n\n    map.current = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: 'mapbox://styles/mapbox/navigation-night-v1',\n      center: [lng, lat],\n      zoom: zoom\n    });\n  }); // Stores Coordinates\n\n  useEffect(() => {\n    if (!map.current) return; // wait for map to initialize\n\n    map.current.on('load', () => {\n      // Add a geojson point source.\n      // Heatmap layers also work with a vector tile source.\n      map.current.addSource('earthquakes', {\n        'type': 'geojson',\n        'data': 'https://docs.mapbox.com/mapbox-gl-js/assets/earthquakes.geojson'\n      });\n      map.current.addLayer({\n        'id': 'sky',\n        'type': 'sky',\n        'paint': {\n          'sky-opacity': ['interpolate', ['linear'], ['zoom'], 0, 0, 5, 0.3, 8, 1],\n          // set up the sky layer for atmospheric scattering\n          'sky-type': 'atmosphere',\n          // explicitly set the position of the sun rather than allowing the sun to be attached to the main light source\n          // 'sky-atmosphere-sun': getSunPosition(),\n          // set the intensity of the sun as a light source (0-100 with higher values corresponding to brighter skies)\n          'sky-atmosphere-sun-intensity': 5\n        }\n      }); // Used for map layering... static, shouldn't ever need to be touched\n\n      const layers = map.current.getStyle().layers;\n      const labelLayerId = layers.find(layer => layer.type === 'symbol' && layer.layout['text-field']).id; // 3D Buildings\n\n      map.current.addLayer({\n        'id': 'add-3d-buildings',\n        'source': 'composite',\n        'source-layer': 'building',\n        'filter': ['==', 'extrude', 'true'],\n        'type': 'fill-extrusion',\n        'minzoom': 15,\n        'paint': {\n          'fill-extrusion-color': '#aaa',\n          'fill-extrusion-height': ['interpolate', ['linear'], ['zoom'], 15, 0, 15.05, ['get', 'height']],\n          'fill-extrusion-base': ['interpolate', ['linear'], ['zoom'], 15, 0, 15.05, ['get', 'min_height']],\n          'fill-extrusion-opacity': 0.6\n        }\n      }, labelLayerId); // Heatmap\n\n      map.current.addLayer({\n        'id': 'earthquakes-heat',\n        'type': 'heatmap',\n        'source': 'earthquakes',\n        'maxzoom': 9,\n        'paint': {\n          // Increase the heatmap weight based on frequency and property magnitude\n          'heatmap-weight': ['interpolate', ['linear'], ['get', 'mag'], 0, 0, 10, 10],\n          // Increase the heatmap color weight weight by zoom level\n          // heatmap-intensity is a multiplier on top of heatmap-weight\n          'heatmap-intensity': ['interpolate', ['linear'], ['zoom'], 0, 1, 9, 3],\n          // Color ramp for heatmap.  Domain is 0 (low) to 1 (high).\n          // Begin color ramp at 0-stop with a 0-transparancy color\n          // to create a blur-like effect.\n          'heatmap-color': ['interpolate', ['linear'], ['heatmap-density'], 0, 'rgba(153,238,255,0)', 0.2, 'rgb(102,179,255)', 0.4, 'rgb(51,85,255)', 0.6, 'rgb(43,0,255)', 0.8, 'rgb(0,34,204)', 1, 'rgb(0,21,128)'],\n          // Adjust the heatmap radius by zoom level\n          'heatmap-radius': ['interpolate', ['linear'], ['zoom'], 0, 2, 9, 20],\n          // Transition from heatmap to circle layer by zoom level\n          'heatmap-opacity': ['interpolate', ['linear'], ['zoom'], 7, 1, 9, 0]\n        }\n      }, 'waterway-label');\n      map.current.addLayer({\n        'id': 'earthquakes-point',\n        'type': 'circle',\n        'source': 'earthquakes',\n        'minzoom': 7,\n        'paint': {\n          // Size circle radius by earthquake magnitude and zoom level\n          'circle-radius': ['interpolate', ['linear'], ['zoom'], 7, ['interpolate', ['linear'], ['get', 'mag'], 1, 1, 6, 4], 16, ['interpolate', ['linear'], ['get', 'mag'], 1, 5, 6, 50]],\n          // Color circle by earthquake magnitude\n          'circle-color': ['interpolate', ['linear'], ['get', 'mag'], 1, 'rgba(33,102,172,0)', 2, 'rgb(103,169,207)', 3, 'rgb(209,229,240)', 4, 'rgb(253,219,199)', 5, 'rgb(239,138,98)', 6, 'rgb(178,24,43)', 7, 'rgb(153,0,0)', 8, 'rgb(102,0,0)', 9, 'rgb(51,0,0)', 10, 'rgb(0,0,0)'],\n          'circle-stroke-color': 'white',\n          'circle-stroke-width': 1,\n          // Transition from heatmap to circle layer by zoom level\n          'circle-opacity': ['interpolate', ['linear'], ['zoom'], 7, 0, 8, 1]\n        }\n      }, 'waterway-label');\n    }); // Adds moving map functionality\n\n    map.current.on('move', () => {\n      setLng(map.current.getCenter().lng.toFixed(4));\n      setLat(map.current.getCenter().lat.toFixed(4));\n      setZoom(map.current.getZoom().toFixed(2));\n    });\n    map.current.on('click', 'earthquakes-point', e => {\n      // Copy coordinates array.\n      const coordinates = e.features[0].geometry.coordinates.slice();\n      const magnitude = e.features[0].properties.mag;\n      const Tsunami = e.features[0].properties.tsunami;\n      const felt = e.features[0].properties.felt;\n      new mapboxgl.Popup({\n        closeButton: false\n      }).setLngLat(coordinates).setHTML(\"<h3>Magnitude: \" + magnitude + \"<h3>\" + \"<h1></h1>\" + \"<h3>Tsunami: \" + (Tsunami === 0 ? \"No\" : \"Yes\") + \"<h3>\" + \"<h1></h1>\" + \"<h3>Felt by: \" + (felt >= 1 ? felt + \" people\" : \"0 people\" + \"<h3>\")).addTo(map.current);\n    });\n    map.current.on('mouseenter', 'earthquakes-point', () => {\n      map.current.getCanvas().style.cursor = 'pointer';\n    }); // Change it back to a pointer when it leaves.\n\n    map.current.on('mouseleave', 'earthquakes-point', () => {\n      map.current.getCanvas().style.cursor = '';\n    }); // Function to add filters to both the heatmap and point layers\n\n    document.getElementById('filterBtn').onclick = function () {\n      var filters = []; // Holds all filters (there are 3 guaranteed)\n      // Filter for magnitude value\n\n      if (parseFloat(document.getElementById('magEntry').value)) {\n        filters.push([document.getElementById(\"magSelect\").value, [\"get\", \"mag\"], parseFloat(document.getElementById('magEntry').value)]);\n      } else {\n        filters.push([\"has\", \"mag\"]);\n      } // Filter for tsunami value\n\n\n      if (document.getElementById(\"tsunamiSelect\").value === \"all\") {\n        filters.push([\"has\", \"tsunami\"]);\n      } else {\n        filters.push([\"==\", [\"get\", \"tsunami\"], parseInt(document.getElementById(\"tsunamiSelect\").value)]);\n      } // Filter for felt value\n\n\n      if (document.getElementById(\"feltSelect\").value === \"all\") {\n        filters.push([\"has\", \"felt\"]);\n      } else if (document.getElementById(\"feltSelect\").value === \"yes\") {\n        filters.push([\">=\", [\"get\", \"felt\"], 1]);\n      } else {\n        filters.push([\"==\", [\"to-number\", [\"get\", \"felt\"]], 0]);\n      } // Set the 3 above filters to the two earthquake layers\n\n\n      addFilter(filters);\n    }; // Function to clear any active filters\n\n\n    document.getElementById('clearBtn').onclick = function () {\n      map.current.setFilter('earthquakes-point', null);\n      map.current.setFilter('earthquakes-heat', null);\n      document.getElementById(\"magEntry\").value = null;\n      document.getElementById(\"magSelect\").value = \">=\";\n      document.getElementById(\"tsunamiSelect\").value = \"all\";\n      document.getElementById(\"feltSelect\").value = \"all\";\n    }; // Function to show and hide (toggle) filters\n\n\n    document.getElementById('toggleFiltersBtn').onclick = function () {\n      if (document.getElementById('filterSet').style.display === \"none\") {\n        document.getElementById('filterSet').style.display = \"block\";\n        document.getElementById('toggleFiltersBtn').textContent = \"Hide Filters\";\n      } else {\n        document.getElementById('filterSet').style.display = \"none\";\n        document.getElementById('toggleFiltersBtn').textContent = \"Show Filters\";\n      }\n    };\n  }); // Function to add filters to layers, hard-coded to 3 filters\n\n  function addFilter(filters) {\n    map.current.setFilter('earthquakes-point', [\"all\", filters[0], filters[1], filters[2]]);\n    map.current.setFilter('earthquakes-heat', [\"all\", filters[0], filters[1], filters[2]]);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar\",\n      children: [\"Longitude: \", lng, \" | Latitude: \", lat, \" | Zoom: \", zoom]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"key\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: Key,\n        alt: \"Key\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"key-text\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"1.0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"10.0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"toggleFiltersBtn\",\n        children: \"Show Filters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"filterSet\",\n        style: {\n          display: 'none'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 21\n        }, this), \"======Filters======\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 46\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 52\n        }, this), \"Enter Magnitude:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"magEntry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 56\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 62\n        }, this), \"Filter Magntidue as Minimum or Maximum:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 60\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"magSelect\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \">=\",\n            children: \"Minimum\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"<=\",\n            children: \"Maximum\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 30\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 35\n        }, this), \"Filter by Earthquakes that Caused Tsunamis:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 64\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"tsunamiSelect\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"Show All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"1\",\n            children: \"Show Only Earthquakes that Caused Tsunamis\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"0\",\n            children: \"Show Only Earthquakes that Didn't Cause Tsunamis\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 30\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 36\n        }, this), \"Filter by Earthquakes that \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 48\n        }, this), \" People Reported to have Felt:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 84\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"feltSelect\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"Show All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"yes\",\n            children: \"Show Only Felt Earthquakes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"no\",\n            children: \"Show Only Unfelt Earthquakes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 30\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 36\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"filterBtn\",\n          \"background-color\": \"transparent\",\n          \"margin-right\": \"50px\",\n          children: \"Filter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"clearBtn\",\n          \"background-color\": \"transparent\",\n          children: \"Clear Filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mapContainer,\n      className: \"map-container\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 335,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Map, \"TO/1vxu7JLaPLRGCkFdYOCVZ0mc=\");\n\n_c = Map;\n\nvar _c;\n\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"sources":["D:/github/MapboxData/final-project/src/components/Map.js"],"names":["React","useRef","useEffect","useState","mapboxgl","Key","accessToken","Map","mapContainer","map","lng","setLng","lat","setLat","zoom","setZoom","current","container","style","center","on","addSource","addLayer","layers","getStyle","labelLayerId","find","layer","type","layout","id","getCenter","toFixed","getZoom","e","coordinates","features","geometry","slice","magnitude","properties","mag","Tsunami","tsunami","felt","Popup","closeButton","setLngLat","setHTML","addTo","getCanvas","cursor","document","getElementById","onclick","filters","parseFloat","value","push","parseInt","addFilter","setFilter","display","textContent"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\nimport mapboxgl from '!mapbox-gl'; // eslint-disable-line import/no-webpack-loader-syntax\r\n\r\nimport Key from \"../img/key.png\";\r\n\r\nmapboxgl.accessToken = 'pk.eyJ1IjoiaXNhYWt0cmVhdHkiLCJhIjoiY2t1Mzhta2xnMW00MzJvczhmNzAxYmFmMyJ9.H05SHwWlCus6O_MBcXFnUQ';\r\n\r\nexport default function Map() {\r\n\r\n    const mapContainer = useRef(null);\r\n    const map = useRef(null);\r\n    const [lng, setLng] = useState(-99.0000);\r\n    const [lat, setLat] = useState(38.0000);\r\n    const [zoom, setZoom] = useState(4.00);\r\n\r\n    // Initializes Map\r\n    useEffect(() => {\r\n        if (map.current) return; // initialize map only once\r\n        map.current = new mapboxgl.Map({\r\n          container: mapContainer.current,\r\n          style: 'mapbox://styles/mapbox/navigation-night-v1',\r\n          center: [lng, lat],\r\n          zoom: zoom\r\n        });\r\n      });\r\n\r\n    // Stores Coordinates\r\n    useEffect(() => {\r\n        if (!map.current) return; // wait for map to initialize\r\n        map.current.on('load', () => {\r\n          // Add a geojson point source.\r\n          // Heatmap layers also work with a vector tile source.\r\n          map.current.addSource('earthquakes', {\r\n          'type': 'geojson',\r\n          'data': 'https://docs.mapbox.com/mapbox-gl-js/assets/earthquakes.geojson'\r\n          });\r\n\r\n          map.current.addLayer({\r\n            'id': 'sky',\r\n            'type': 'sky',\r\n            'paint': {\r\n            'sky-opacity': [\r\n            'interpolate',\r\n            ['linear'],\r\n            ['zoom'],\r\n            0,\r\n            0,\r\n            5,\r\n            0.3,\r\n            8,\r\n            1\r\n            ],\r\n            // set up the sky layer for atmospheric scattering\r\n            'sky-type': 'atmosphere',\r\n            // explicitly set the position of the sun rather than allowing the sun to be attached to the main light source\r\n            // 'sky-atmosphere-sun': getSunPosition(),\r\n            // set the intensity of the sun as a light source (0-100 with higher values corresponding to brighter skies)\r\n            'sky-atmosphere-sun-intensity': 5\r\n            }\r\n          });\r\n\r\n\r\n\r\n        // Used for map layering... static, shouldn't ever need to be touched\r\n        const layers = map.current.getStyle().layers;\r\n        const labelLayerId = layers.find(\r\n          (layer) => layer.type === 'symbol' && layer.layout['text-field']\r\n        ).id;\r\n        \r\n        // 3D Buildings\r\n        map.current.addLayer(\r\n        {\r\n            'id': 'add-3d-buildings',\r\n            'source': 'composite',\r\n            'source-layer': 'building',\r\n            'filter': ['==', 'extrude', 'true'],\r\n            'type': 'fill-extrusion',\r\n            'minzoom': 15,\r\n            'paint': {\r\n              'fill-extrusion-color': '#aaa',\r\n\r\n              'fill-extrusion-height': [\r\n                'interpolate',\r\n                ['linear'],\r\n                ['zoom'],\r\n                15,\r\n                0,\r\n                15.05,\r\n                ['get', 'height']\r\n              ],\r\n              'fill-extrusion-base': [\r\n                'interpolate',\r\n                ['linear'],\r\n                ['zoom'],\r\n                15,\r\n                0,\r\n                15.05,\r\n                ['get', 'min_height']\r\n              ],\r\n              'fill-extrusion-opacity': 0.6\r\n            }\r\n          },\r\n          labelLayerId\r\n        );\r\n\r\n        // Heatmap\r\n        map.current.addLayer(\r\n        {\r\n          'id': 'earthquakes-heat',\r\n          'type': 'heatmap',\r\n          'source': 'earthquakes',\r\n          'maxzoom': 9,\r\n          'paint': {\r\n          // Increase the heatmap weight based on frequency and property magnitude\r\n          'heatmap-weight': [\r\n          'interpolate',\r\n          ['linear'],\r\n          ['get', 'mag'],\r\n          0,\r\n          0,\r\n          10,\r\n          10\r\n          ],\r\n          // Increase the heatmap color weight weight by zoom level\r\n          // heatmap-intensity is a multiplier on top of heatmap-weight\r\n          'heatmap-intensity': [\r\n          'interpolate',\r\n          ['linear'],\r\n          ['zoom'],\r\n          0,\r\n          1,\r\n          9,\r\n          3\r\n          ],\r\n          // Color ramp for heatmap.  Domain is 0 (low) to 1 (high).\r\n          // Begin color ramp at 0-stop with a 0-transparancy color\r\n          // to create a blur-like effect.\r\n          'heatmap-color': [\r\n          'interpolate',\r\n          ['linear'],\r\n          ['heatmap-density'],\r\n          0,\r\n          'rgba(153,238,255,0)',\r\n          0.2,\r\n          'rgb(102,179,255)',\r\n          0.4,\r\n          'rgb(51,85,255)',\r\n          0.6,\r\n          'rgb(43,0,255)',\r\n          0.8,\r\n          'rgb(0,34,204)',\r\n          1,\r\n          'rgb(0,21,128)'\r\n          ],\r\n          // Adjust the heatmap radius by zoom level\r\n          'heatmap-radius': [\r\n          'interpolate',\r\n          ['linear'],\r\n          ['zoom'],\r\n          0,\r\n          2,\r\n          9,\r\n          20\r\n          ],\r\n          // Transition from heatmap to circle layer by zoom level\r\n          'heatmap-opacity': [\r\n          'interpolate',\r\n          ['linear'],\r\n          ['zoom'],\r\n          7,\r\n          1,\r\n          9,\r\n          0\r\n          ]\r\n          }\r\n          },\r\n          'waterway-label'\r\n          );\r\n           \r\n          map.current.addLayer(\r\n          {\r\n          'id': 'earthquakes-point',\r\n          'type': 'circle',\r\n          'source': 'earthquakes',\r\n          'minzoom': 7,\r\n          'paint': {\r\n          // Size circle radius by earthquake magnitude and zoom level\r\n          'circle-radius': [\r\n          'interpolate',\r\n          ['linear'],\r\n          ['zoom'],\r\n          7,\r\n          ['interpolate', ['linear'], ['get', 'mag'], 1, 1, 6, 4],\r\n          16,\r\n          ['interpolate', ['linear'], ['get', 'mag'], 1, 5, 6, 50]\r\n          ],\r\n          // Color circle by earthquake magnitude\r\n          'circle-color': [\r\n          'interpolate',\r\n          ['linear'],\r\n          ['get', 'mag'],\r\n          1,\r\n          'rgba(33,102,172,0)',\r\n          2,\r\n          'rgb(103,169,207)',\r\n          3,\r\n          'rgb(209,229,240)',\r\n          4,\r\n          'rgb(253,219,199)',\r\n          5,\r\n          'rgb(239,138,98)',\r\n          6,\r\n          'rgb(178,24,43)',\r\n          7,\r\n          'rgb(153,0,0)',\r\n          8,\r\n          'rgb(102,0,0)',\r\n          9,\r\n          'rgb(51,0,0)',\r\n          10,\r\n          'rgb(0,0,0)',\r\n          ],\r\n          'circle-stroke-color': 'white',\r\n          'circle-stroke-width': 1,\r\n          // Transition from heatmap to circle layer by zoom level\r\n          'circle-opacity': [\r\n          'interpolate',\r\n          ['linear'],\r\n          ['zoom'],\r\n          7,\r\n          0,\r\n          8,\r\n          1\r\n          ]\r\n          }\r\n          },\r\n          'waterway-label'\r\n          );\r\n        });\r\n        \r\n        // Adds moving map functionality\r\n        map.current.on('move', () => {\r\n          setLng(map.current.getCenter().lng.toFixed(4));\r\n          setLat(map.current.getCenter().lat.toFixed(4));\r\n          setZoom(map.current.getZoom().toFixed(2));\r\n        });\r\n\r\n        map.current.on('click', 'earthquakes-point', (e) => {\r\n          // Copy coordinates array.\r\n          const coordinates = e.features[0].geometry.coordinates.slice();\r\n          const magnitude = e.features[0].properties.mag;\r\n          const Tsunami = e.features[0].properties.tsunami;\r\n          const felt = e.features[0].properties.felt\r\n          \r\n          new mapboxgl.Popup({ closeButton: false })\r\n            .setLngLat(coordinates)\r\n            .setHTML(\"<h3>Magnitude: \" + magnitude + \"<h3>\" + \"<h1></h1>\" + \"<h3>Tsunami: \" + (Tsunami === 0 ? \"No\" : \"Yes\") + \"<h3>\" + \"<h1></h1>\" + \"<h3>Felt by: \" + (felt >= 1 ? felt + \" people\" : \"0 people\" + \"<h3>\"))\r\n            .addTo(map.current);\r\n        });\r\n\r\n        map.current.on('mouseenter', 'earthquakes-point', () => {\r\n          map.current.getCanvas().style.cursor = 'pointer';\r\n        });\r\n           \r\n          // Change it back to a pointer when it leaves.\r\n        map.current.on('mouseleave', 'earthquakes-point', () => {\r\n          map.current.getCanvas().style.cursor = '';\r\n        });\r\n\r\n        // Function to add filters to both the heatmap and point layers\r\n        document.getElementById('filterBtn').onclick = function ()\r\n        {\r\n            var filters = []; // Holds all filters (there are 3 guaranteed)\r\n\r\n            // Filter for magnitude value\r\n            if (parseFloat(document.getElementById('magEntry').value)) {\r\n                filters.push([document.getElementById(\"magSelect\").value,\r\n                    [\"get\", \"mag\"],\r\n                parseFloat(document.getElementById('magEntry').value)]);\r\n            } else {\r\n                filters.push([\"has\", \"mag\"]);\r\n            }\r\n\r\n            // Filter for tsunami value\r\n            if (document.getElementById(\"tsunamiSelect\").value === \"all\") {\r\n                filters.push([\"has\", \"tsunami\"]);\r\n            } else {\r\n                filters.push([\"==\", [\"get\", \"tsunami\"], parseInt(document.getElementById(\"tsunamiSelect\").value)]);\r\n            }\r\n\r\n            // Filter for felt value\r\n            if (document.getElementById(\"feltSelect\").value === \"all\") {\r\n                filters.push([\"has\", \"felt\"]);\r\n            } else if (document.getElementById(\"feltSelect\").value === \"yes\") {\r\n                filters.push([\">=\", [\"get\", \"felt\"], 1]);\r\n            } else {\r\n                filters.push([\"==\", [\"to-number\", [\"get\", \"felt\"]], 0]);\r\n            }\r\n\r\n            // Set the 3 above filters to the two earthquake layers\r\n            addFilter(filters);\r\n        };\r\n\r\n        // Function to clear any active filters\r\n        document.getElementById('clearBtn').onclick = function ()\r\n        {\r\n            map.current.setFilter('earthquakes-point', null);\r\n            map.current.setFilter('earthquakes-heat', null);\r\n            document.getElementById(\"magEntry\").value = null;\r\n            document.getElementById(\"magSelect\").value = \">=\";\r\n            document.getElementById(\"tsunamiSelect\").value = \"all\";\r\n            document.getElementById(\"feltSelect\").value = \"all\";\r\n        }\r\n\r\n        // Function to show and hide (toggle) filters\r\n        document.getElementById('toggleFiltersBtn').onclick = function ()\r\n        {\r\n            if (document.getElementById('filterSet').style.display === \"none\") {\r\n                document.getElementById('filterSet').style.display = \"block\";\r\n                document.getElementById('toggleFiltersBtn').textContent = \"Hide Filters\";\r\n            } else {\r\n                document.getElementById('filterSet').style.display = \"none\";\r\n                document.getElementById('toggleFiltersBtn').textContent = \"Show Filters\";\r\n            }\r\n        }\r\n    });\r\n\r\n    // Function to add filters to layers, hard-coded to 3 filters\r\n    function addFilter(filters) {\r\n        map.current.setFilter('earthquakes-point', [\"all\", filters[0], filters[1], filters[2]]);\r\n        map.current.setFilter('earthquakes-heat', [\"all\", filters[0], filters[1], filters[2]]); \r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"sidebar\">\r\n                Longitude: {lng} | Latitude: {lat} | Zoom: {zoom}\r\n            </div>\r\n            <div className=\"key\">\r\n                <img src={Key} alt=\"Key\" />\r\n                <div className=\"key-text\">\r\n                    <p>1.0</p>\r\n                    <p>10.0</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"filter\">\r\n                <button id=\"toggleFiltersBtn\">\r\n                    Show Filters\r\n                </button>\r\n\r\n                <div id=\"filterSet\" style={{ display:'none' }}>\r\n                    <br />======Filters======<br /><br />\r\n                    Enter Magnitude:<br/>\r\n                    <input type=\"text\" id=\"magEntry\" /><br /><br/>\r\n                    Filter Magntidue as Minimum or Maximum:<br/>\r\n                    <select id=\"magSelect\">\r\n                        <option value=\">=\">Minimum</option>\r\n                        <option value=\"<=\">Maximum</option>\r\n                    </select><br/><br/>\r\n                    Filter by Earthquakes that Caused Tsunamis:<br />\r\n                    <select id=\"tsunamiSelect\">\r\n                        <option value=\"all\">Show All</option>\r\n                        <option value=\"1\">Show Only Earthquakes that Caused Tsunamis</option>\r\n                        <option value=\"0\">Show Only Earthquakes that Didn't Cause Tsunamis</option>\r\n                    </select><br /><br />\r\n                    Filter by Earthquakes that <br /> People Reported to have Felt:<br />\r\n                    <select id=\"feltSelect\">\r\n                        <option value=\"all\">Show All</option>\r\n                        <option value=\"yes\">Show Only Felt Earthquakes</option>\r\n                        <option value=\"no\">Show Only Unfelt Earthquakes</option>\r\n                    </select><br /><br />\r\n                    <button id=\"filterBtn\" background-color='transparent' margin-right=\"50px\">\r\n                        Filter\r\n                    </button>\r\n                    <button id=\"clearBtn\" background-color='transparent'>\r\n                        Clear Filters\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div ref={mapContainer} className=\"map-container\" />\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}